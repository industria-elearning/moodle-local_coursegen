define("local_datacurso/add_course_ai_button",["exports","core/templates","local_datacurso/add_course_ai_modal"],(function(_exports,_templates,_add_course_ai_modal){var obj;
/**
   * Add AI button to course creation/edit form
   *
   * @module     local_datacurso/add_course_ai_button
   * @copyright  2025 Buendata <soluciones@buendata.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_templates=(obj=_templates)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{addAIButton()};const addAIButton=async()=>{const submitElement=document.querySelector(".mb-3.fitem.form-submit");if(!submitElement){var _document$querySelect;const alternativeSubmit=document.querySelector('div[data-fieldtype="submit"]')||(null===(_document$querySelect=document.querySelector('input[name="saveandreturn"]'))||void 0===_document$querySelect?void 0:_document$querySelect.closest(".fitem"));return void(alternativeSubmit&&await insertAIButton(alternativeSubmit))}await insertAIButton(submitElement);document.querySelector('[data-action="local_datacurso/add_ai_course"]').addEventListener("click",handleAIButtonClick)},handleAIButtonClick=async()=>{const payload={courseid:new URLSearchParams(window.location.search).get("id")||null,action:"create_course"};await(0,_add_course_ai_modal.openCourseModal)(payload)},insertAIButton=async targetElement=>{if(document.querySelector('[data-action="local_datacurso/add_ai_course"]'))return;const{html:html}=await _templates.default.renderForPromise("local_datacurso/add_ai_course_button",{}),buttonContainer=document.createElement("div");buttonContainer.innerHTML=html,targetElement.parentNode.insertBefore(buttonContainer,targetElement)}}));

//# sourceMappingURL=add_course_ai_button.min.js.map