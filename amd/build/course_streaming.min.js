define("local_datacurso/course_streaming",["exports"],(function(_exports){
/**
   * Course Streaming Module for handling real-time course generation
   *
   * @module     local_datacurso/course_streaming
   * @copyright  2025 Buendata <soluciones@buendata.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
function typeWriter(element,text,speed){return new Promise((resolve=>{let i=0;!function typing(){i<text.length?(element.textContent+=text.charAt(i),i++,setTimeout(typing,speed)):resolve()}()}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.startStreaming=void 0;_exports.startStreaming=async(streamingUrl,container)=>{const progressIndicator=document.getElementById("progress-indicator"),eventList=container.querySelector("[data-region='local_datacurso/course_streaming']"),progressIcon=document.getElementById("progress-icon");eventList.innerHTML="",progressIndicator.style.display="block";const evtSource=new EventSource(streamingUrl);evtSource.onmessage=async event=>{const data=JSON.parse(event.data);switch(console.log("Received:",data),data.type){case"section_start":const sectionHeader=document.createElement("div");sectionHeader.className="section-header bg-light p-3 mb-3 rounded",eventList.appendChild(sectionHeader);const title=document.createElement("h3");title.className="text-primary mb-2",sectionHeader.appendChild(title),await typeWriter(title,"Sección ".concat(data.section.section,": ").concat(data.section.title),20);const hours=document.createElement("p");hours.className="mb-2 text-muted",sectionHeader.appendChild(hours),await typeWriter(hours,"Horas teóricas: ".concat(data.section.ht_hours," | Horas autónomas: ").concat(data.section.had_hours),15);const objectives=document.createElement("p");objectives.className="mb-0",sectionHeader.appendChild(objectives),await typeWriter(objectives,"Objetivos: ".concat(data.section.objectives),10);break;case"activity":const activityItem=document.createElement("div");activityItem.className="activity-item card mb-2 ml-4",eventList.appendChild(activityItem);const cardBody=document.createElement("div");cardBody.className="card-body py-2",activityItem.appendChild(cardBody);const activityTitle=document.createElement("h5");activityTitle.className="card-title mb-1",cardBody.appendChild(activityTitle),await typeWriter(activityTitle,data.activity.title,25);const activityDesc=document.createElement("p");activityDesc.className="card-text mb-2",cardBody.appendChild(activityDesc),await typeWriter(activityDesc,data.activity.description,8);const resourceType=document.createElement("span");resourceType.className="badge badge-success",resourceType.textContent=data.activity.resource_type,cardBody.appendChild(resourceType);break;case"section_end":const separator=document.createElement("hr");separator.className="my-4",eventList.appendChild(separator);break;case"complete":progressIcon.innerHTML='\n              <div class="bg-success rounded-circle d-flex align-items-center justify-content-center" style="width: 1.5rem; height: 1.5rem;">\n                <i class="text-white" style="font-size: 0.8rem;">✓</i>\n              </div>\n            ';const completionMsg=document.createElement("div");completionMsg.className="alert alert-success text-center mt-4",eventList.appendChild(completionMsg),await typeWriter(completionMsg,"✅ Plan del curso completado",50),evtSource.close()}}}}));

//# sourceMappingURL=course_streaming.min.js.map